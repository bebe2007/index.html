<!-- Include Font Awesome pentru iconițele TV și Play -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

<!-- Include Flag Icon CSS pentru steaguri -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.4.6/css/flag-icon.min.css" />

<style type="text/css">
    /* Stil pentru containerul responsive al player-ului video */
    .responsive-iframe-container {
        position: relative;
        width: 100%;
        padding-bottom: 56.25%; /* Raport de aspect 16:9 */
        height: 0;
        overflow: hidden;
        margin-bottom: 20px; /* Adaugă spațiu între player și lista de surse */
    }
    .responsive-iframe-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }

    /* Stil pentru lista de surse video */
    #player-options {
        text-align: left;
        padding: 0;
        margin: 0 auto;
        max-width: 800px; /* Limităm lățimea listei */
    }
    #player-options ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    #player-options li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        margin-bottom: 10px;
        background-color: #f8f9fa;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.2s;
        font-size: 16px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    #player-options li:hover {
        background-color: #e2e6ea;
    }

    /* Indicatori de stare (verde pentru activ, roșu pentru inactiv) */
    .status {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 10px;
    }
    .status.active {
        background-color: green;
    }
    .status.inactive {
        background-color: red;
    }

    /* Textul sursei */
    .source-title {
        flex-grow: 1;
        font-weight: bold; /* Îngroșează textul */
        color: #007bff;    /* Culoare albastră pentru a evidenția textul */
    }

    /* Steagul mic pentru sursă */
    .flag-icon {
        width: 30px; /* Dimensiunea steagului */
        height: 22px; 
        vertical-align: middle;
        margin-left: 5px;
    }
</style>

<!-- Containerul pentru player-ul video -->
<div class="responsive-iframe-container">
    <iframe id="videoPlayer" src="https://tvcanale.live/embed.php?id=62" allowfullscreen="true" scrolling="no"></iframe>
</div>

<!-- Lista de surse video -->
<div id="player-options">
    <ul>
        <!-- Sursa 1: DIGI Sport -->
        <li id="player-option-1" data-url="https://tvcanale.live/embed.php?id=62">
            <div class="status active">&nbsp;</div>
            <div class="source-title"><i class="fas fa-play"></i> SURSĂ 1 : <i class="fas fa-tv"></i> DIGI Sport 1</div>
            <div class="flag"><span class="flag-icon flag-icon-ro"></span></div>
        </li>

        <!-- Sursa 2: Prima Sports -->
        <li id="player-option-2" data-url="https://tvcanale.live/embed.php?id=42">
            <div class="status inactive">&nbsp;</div>
            <div class="source-title"><i class="fas fa-play"></i> SURSĂ 2 : <i class="fas fa-tv"></i> Prima Sports 1</div>
            <div class="flag"><span class="flag-icon flag-icon-ro"></span></div>
        </li>
    </ul>
</div>

<script>
    // Funcție pentru schimbarea sursei video
    document.querySelectorAll('#player-options li').forEach(function(option) {
        option.addEventListener('click', function() {
            var url = this.getAttribute('data-url');
            var player = document.getElementById('videoPlayer');

            // Încercare de resetare completă a iframe-ului
            var newPlayer = document.createElement('iframe');
            newPlayer.setAttribute('src', url);
            newPlayer.setAttribute('allowfullscreen', 'true');
            newPlayer.setAttribute('scrolling', 'no');
            newPlayer.style.width = "100%";
            newPlayer.style.height = "100%";
            newPlayer.style.border = "0";

            var container = document.querySelector('.responsive-iframe-container');
            container.innerHTML = '';  // Golește containerul
            container.appendChild(newPlayer);  // Adaugă noul iframe

            // Actualizează indicatorii de stare
            document.querySelectorAll('#player-options li .status').forEach(function(status) {
                status.classList.remove('active');
                status.classList.add('inactive');
            });

            // Activează starea sursei selectate
            this.querySelector('.status').classList.remove('inactive');
            this.querySelector('.status').classList.add('active');
        });
    });
</script>